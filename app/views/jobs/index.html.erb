<%= render partial: "layouts/logo" %>

<div class="row" style="margin-top: 45px">
  <% if @results.empty? %>
    <div class="col-sm result-card">
    <% @jobs.each do |job| %>
    <div class="card bg-dark">
      <%=cl_image_tag("#{job.video.key}.jpg", :resource_type => "video", class: 'result-card-image') %>
      <div class="card-img-overlay results-card-button">
        <h3 class="card-text"><%= job.title %></h3>
          <div class="d-flex justify-content-around">
                <%= link_to job_path(job), class: "p-2" do %>
                    <button type="button" style="color: white" class="align-content-end justify-content-center text-center btn-primary btn btn-outline-secondary p-2">View</button>
                <% end %>
          </div>
      </div>
</div>
    <% end %>
  </div>
  <% else %>
    <div class="results-head">
      <h3 style="color: white">Showing results for: <%= params[:query] %></h3>
    </div>
  <div class="row">
    <% @results.each do |result| %>
      <div class="col-md-6 col-sm-12">
        <div class="card mb-4 w-75 h-5 >
          <div class="card-body">
            <!-- Video still image using cl_image_tag -->
            <%= cl_image_tag("#{result.video.key}.jpg", :resource_type => "video", :class => "w-auto") %>
            <p class="mt-3"><%= result.title %></p>
            <div class="d-flex flex-column justify-content-center text-center">
              <%= link_to job_path(result), class: "p-2" do %>
              <button type="button" class="btn btn-outline-secondary p-2">View</button>
              <% end %>
            </div>
          </div>
        </div>
      </div>
    <% end %>
  </div>
  <% end %>
</div>

